(this.webpackJsonpstudio3d=this.webpackJsonpstudio3d||[]).push([[0],{10:function(e,t,o){e.exports=o(17)},15:function(e,t,o){},16:function(e,t,o){},17:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o.n(n),r=o(5),i=o.n(r),c=(o(15),o(16),o(9)),l=o(2),s=o(0),d=o(6),u=o(7),m=o(8);var f=function(){var e,t=document.getElementById("js-loader"),o=document.getElementById("js-tray-slide"),n=document.getElementById("js-drag-notice"),r=document.querySelector("#c"),i="Metal",f=!1,h=[{texture:"img/wood_.jpg",size:[2,2,2],shininess:60},{texture:"img/leather_Base_color.jpg",size:[1,1,1],shininess:60},{texture:"img/fabric_.jpg",size:[4,4,4],shininess:0},{texture:"img/pattern_.jpg",size:[8,8,8],shininess:10},{texture:"img/denim_.jpg",size:[3,3,3],shininess:0},{texture:"img/quilt_.jpg",size:[6,6,6],shininess:0},{color:"131417"},{color:"374047"},{color:"5f6e78"},{color:"7f8a93"},{color:"97a1a7"},{color:"acb4b9"},{color:"DF9998"},{color:"7C6862"},{color:"A3AB84"},{color:"D6CCB1"},{color:"F8D5C4"},{color:"A3AE99"},{color:"EFF2F2"},{color:"B0C5C1"},{color:"8B8C8C"},{color:"565F59"},{color:"CB304A"},{color:"FED7C8"},{color:"C7BDBD"},{color:"3DCBBE"},{color:"264B4F"},{color:"389389"},{color:"85BEAE"},{color:"F2DABA"},{color:"F2A97F"},{color:"D85F52"},{color:"D92E37"},{color:"FC9736"},{color:"F7BD69"},{color:"A4D09C"},{color:"4C8A67"},{color:"25608A"},{color:"75C8C6"},{color:"F5E4B7"},{color:"E69041"},{color:"E56013"},{color:"11101D"},{color:"630609"},{color:"C9240E"},{color:"EC4B17"},{color:"281A1C"},{color:"4F556F"},{color:"64739B"},{color:"CDBAC7"},{color:"946F43"},{color:"66533C"},{color:"173A2F"},{color:"153944"},{color:"27548D"},{color:"438AAC"}],v=new s.fb;v.background=new s.h(15856113),v.fog=new s.m(15856113,20,100);var w=new s.tb({canvas:r,antialias:!0});w.shadowMap.enabled=!0,w.setPixelRatio(window.devicePixelRatio),document.body.appendChild(w.domElement);var p=new s.V(50,window.innerWidth/window.innerHeight,.1,1e3);p.position.z=5,p.position.x=0;var g=new s.L({color:15856113,shininess:10}),y=[{childID:"Metal",mtl:g},{childID:"Pillow",mtl:g},{childID:"Wood",mtl:g}];function E(e,t,o){e.traverse((function(e){e.isMesh&&e.name.includes(t)&&(e.material=o,e.nameID=t)}))}(new d.a).load("chair_maya.glb",(function(o){(e=o.scene).traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),e.scale.set(3,3,3),e.rotation.y=Math.PI,e.position.y=-1;var n,a=Object(l.a)(y);try{for(a.s();!(n=a.n()).done;){var r=n.value;E(e,r.childID,r.mtl)}}catch(i){a.e(i)}finally{a.f()}v.add(e),t.remove()}),void 0,(function(e){console.error(e)}));var b=new s.p(16777215,16777215,.61);b.position.set(0,50,0),v.add(b);var B=new s.i(16777215,.54);B.position.set(-8,12,8),B.castShadow=!0,B.shadow.mapSize=new s.qb(4096,4096),v.add(B);var C=new m.a(p,w.domElement);C.maxPolarAngle=Math.PI/2,C.minPolarAngle=Math.PI/3,C.enableDamping=!0,C.enablePan=!1,C.dampingFactor=.1,C.autoRotate=!1,C.autoRotateSpeed=.2,function t(){if(C.update(),w.render(v,p),requestAnimationFrame(t),function(e){var t=e.domElement,o=window.innerWidth,n=window.innerHeight,a=t.width/window.devicePixelRatio,r=t.height/window.devicePixelRatio,i=a!==o||r!==n;i&&e.setSize(o,n,!1);return i}(w)){var o=w.domElement;p.aspect=o.clientWidth/o.clientHeight,p.updateProjectionMatrix()}null!=e&&0==f&&(++k<=120?e.rotation.y+=Math.PI/60:f=!0,n.classList.add("start"))}(),function(e){var t,n=Object(l.a)(e.entries());try{for(n.s();!(t=n.n()).done;){var a=Object(c.a)(t.value,2),r=a[0],i=a[1],s=document.createElement("div");s.classList.add("tray__swatch"),i.texture?s.style.backgroundImage="url("+i.texture+")":s.style.background="#"+i.color,s.setAttribute("data-key",r),o.append(s)}}catch(d){n.e(d)}finally{n.f()}}(h);var x,A=document.querySelectorAll(".option"),D=Object(l.a)(A);try{for(D.s();!(x=D.n()).done;){x.value.addEventListener("click",I)}}catch(O){D.e(O)}finally{D.f()}function I(e){var t=e.target;if("Export"==(i=e.target.dataset.option))!function(){var e=new u.a;e.parse(v,(function(e){if(e instanceof ArrayBuffer)o="scene.glb",R(new Blob([e],{type:"application/octet-stream"}),o);else{console.log("result: "+e+"John");var t=JSON.stringify(e,null,2);R(new Blob([t],{type:"text/plain"}),"scene.gltf")}var o}),{trs:!0,onlyVisible:!0,truncateDrawRange:!0,binary:!0,forcePowerOfTwoTextures:!0,maxTextureSize:4096})}();else{var o,n=Object(l.a)(A);try{for(n.s();!(o=n.n()).done;){o.value.classList.remove("--is-active")}}catch(O){n.e(O)}finally{n.f()}t.classList.add("--is-active")}}var F,L=document.querySelectorAll(".tray__swatch"),j=Object(l.a)(L);try{for(j.s();!(F=j.n()).done;){F.value.addEventListener("click",_)}}catch(O){j.e(O)}finally{j.f()}function _(t){var o,n,a,r=h[parseInt(t.target.dataset.key)];if(r.texture){var c=(new s.nb).load(r.texture);c.repeat.set(r.size[0],r.size[1],r.size[2]),c.wrapS=s.eb,c.wrapT=s.eb,o=new s.L({map:c,shininess:r.shininess?r.shininess:10})}else o=new s.L({color:parseInt("0x"+r.color),shininess:r.shininess?r.shininess:10});n=i,a=o,e.traverse((function(e){e.isMesh&&null!=e.nameID&&e.nameID==n&&(e.material=a)}))}var P,k=0,z=document.getElementById("js-tray"),S=document.getElementById("js-tray-slide");!function(e,t){var o,n,a=0,r=0;function i(e){e=e||window.event,o=t.offsetLeft,P=S.offsetWidth-z.offsetWidth,P*=-1,"touchstart"==e.type?a=e.touches[0].clientX:(a=e.clientX,document.onmouseup=l,document.onmousemove=c)}function c(e){"touchmove"==(e=e||window.event).type?(r=a-e.touches[0].clientX,a=e.touches[0].clientX):(r=a-e.clientX,a=e.clientX),t.offsetLeft-r<=0&&t.offsetLeft-r>=P&&(t.style.left=t.offsetLeft-r+"px")}function l(e){(n=t.offsetLeft)-o<-20||n-o>20||(t.style.left=o+"px"),document.onmouseup=null,document.onmousemove=null}t.getElementsByClassName("tray__swatch"),t.onmousedown=i,t.addEventListener("touchstart",i),t.addEventListener("touchend",l),t.addEventListener("touchmove",c)}(0,S);var M=document.createElement("a");function R(e,t){URL.createObjectURL(e);var o=URL.createObjectURL(e)+".gltf";M.href="intent://arvr.google.com/scene-viewer/1.1?file="+encodeURIComponent(o)+"&mode=ar_only#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;end",M.click()}return M.style.display="none",document.body.appendChild(M),a.a.createElement("div",null)};var h=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.bd8fb494.chunk.js.map